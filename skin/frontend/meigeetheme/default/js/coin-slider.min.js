(function($){var _1=new Array;var _2=new Array;var _3=new Array;var _4=new Array;var _5=new Array;var _6=new Array;var _7=new Array;var _8=new Array;var _9=new Array;var _a=new Array;var _b=new Array;$.fn.coinslider=$.fn.CoinSlider=function(_c){init=function(el){_2[el.id]=new Array();_3[el.id]=new Array();_4[el.id]=new Array();_5[el.id]=new Array();_6[el.id]=new Array();_8[el.id]=0;_a[el.id]=0;_b[el.id]=1;_1[el.id]=$.extend({},$.fn.coinslider.defaults,_c);$.each($("#"+el.id+" img"),function(i,_d){_3[el.id][i]=$(_d).attr("src");_4[el.id][i]=$(_d).parent().is("a")?$(_d).parent().attr("href"):"";_5[el.id][i]=$(_d).parent().is("a")?$(_d).parent().attr("target"):"";_6[el.id][i]=$(_d).next().is("span")?$(_d).next().html():"";$(_d).hide();$(_d).next().hide();});$(el).css({"background-image":"url("+_3[el.id][0]+")","width":_1[el.id].width,"height":_1[el.id].height,"position":"relative","background-position":"top left"}).wrap("<div class='coin-slider' id='coin-slider-"+el.id+"' />");$("#"+el.id).append("<div class='cs-title' id='cs-title-"+el.id+"' style='position: absolute; bottom:0; left: 0; z-index: 1000;'></div>");$.setFields(el);if(_1[el.id].navigation){$.setNavigation(el);}$.transition(el,0);$.transitionCall(el);};$.setFields=function(el){tWidth=sWidth=parseInt(_1[el.id].width/_1[el.id].spw);tHeight=sHeight=parseInt(_1[el.id].height/_1[el.id].sph);counter=sLeft=sTop=0;tgapx=gapx=_1[el.id].width-_1[el.id].spw*sWidth;tgapy=gapy=_1[el.id].height-_1[el.id].sph*sHeight;for(i=1;i<=_1[el.id].sph;i++){gapx=tgapx;if(gapy>0){gapy--;sHeight=tHeight+1;}else{sHeight=tHeight;}for(j=1;j<=_1[el.id].spw;j++){if(gapx>0){gapx--;sWidth=tWidth+1;}else{sWidth=tWidth;}_2[el.id][counter]=i+""+j;counter++;if(_1[el.id].links){$("#"+el.id).append("<a href='"+_4[el.id][0]+"' class='cs-"+el.id+"' id='cs-"+el.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></a>");}else{$("#"+el.id).append("<div class='cs-"+el.id+"' id='cs-"+el.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></div>");}$("#cs-"+el.id+i+j).css({"background-position":-sLeft+"px "+(-sTop+"px"),"left":sLeft,"top":sTop});sLeft+=sWidth;}sTop+=sHeight;sLeft=0;}$(".cs-"+el.id).mouseover(function(){$("#cs-navigation-"+el.id).show();});$(".cs-"+el.id).mouseout(function(){$("#cs-navigation-"+el.id).hide();});$("#cs-title-"+el.id).mouseover(function(){$("#cs-navigation-"+el.id).show();});$("#cs-title-"+el.id).mouseout(function(){$("#cs-navigation-"+el.id).hide();});if(_1[el.id].hoverPause){$(".cs-"+el.id).mouseover(function(){_1[el.id].pause=true;});$(".cs-"+el.id).mouseout(function(){_1[el.id].pause=false;});$("#cs-title-"+el.id).mouseover(function(){_1[el.id].pause=true;});$("#cs-title-"+el.id).mouseout(function(){_1[el.id].pause=false;});}};$.transitionCall=function(el){clearInterval(_7[el.id]);delay=_1[el.id].delay+_1[el.id].spw*_1[el.id].sph*_1[el.id].sDelay;_7[el.id]=setInterval(function(){$.transition(el);},delay);};$.transition=function(el,_e){if(_1[el.id].pause==true){return;}$.effect(el);_a[el.id]=0;_9[el.id]=setInterval(function(){$.appereance(el,_2[el.id][_a[el.id]]);},_1[el.id].sDelay);$(el).css({"background-image":"url("+_3[el.id][_8[el.id]]+")"});if(typeof (_e)=="undefined"){_8[el.id]++;}else{if(_e=="prev"){_8[el.id]--;}else{_8[el.id]=_e;}}if(_8[el.id]==_3[el.id].length){_8[el.id]=0;}if(_8[el.id]==-1){_8[el.id]=_3[el.id].length-1;}$(".cs-button-"+el.id).removeClass("cs-active");$("#cs-button-"+el.id+"-"+(_8[el.id]+1)).addClass("cs-active");if(_6[el.id][_8[el.id]]){$("#cs-title-"+el.id).css({"opacity":0}).animate({"opacity":_1[el.id].opacity},_1[el.id].titleSpeed);$("#cs-title-"+el.id).html(_6[el.id][_8[el.id]]);}else{$("#cs-title-"+el.id).css("opacity",0);}};$.appereance=function(el,_f){$(".cs-"+el.id).attr("href",_4[el.id][_8[el.id]]).attr("target",_5[el.id][_8[el.id]]);if(_a[el.id]==_1[el.id].spw*_1[el.id].sph){clearInterval(_9[el.id]);return;}$("#cs-"+el.id+_f).css({opacity:0,"background-image":"url("+_3[el.id][_8[el.id]]+")"});$("#cs-"+el.id+_f).animate({opacity:1},300);_a[el.id]++;};$.setNavigation=function(el){$(el).parent().append("<div id='cs-navigation-"+el.id+"'></div>");$("#cs-navigation-"+el.id).hide();$("#cs-navigation-"+el.id).append("<a href='#' id='cs-prev-"+el.id+"' class='cs-prev'>prev</a>");$("#cs-navigation-"+el.id).append("<a href='#' id='cs-next-"+el.id+"' class='cs-next'>next</a>");$("#cs-prev-"+el.id).css({"position":"absolute","top":_1[el.id].height/2-15,"left":0,"z-index":1001,"line-height":"30px","opacity":_1[el.id].opacity}).click(function(e){e.preventDefault();$.transition(el,"prev");$.transitionCall(el);}).mouseover(function(){$("#cs-navigation-"+el.id).show();});$("#cs-next-"+el.id).css({"position":"absolute","top":_1[el.id].height/2-15,"right":0,"z-index":1001,"line-height":"30px","opacity":_1[el.id].opacity}).click(function(e){e.preventDefault();$.transition(el);$.transitionCall(el);}).mouseover(function(){$("#cs-navigation-"+el.id).show();});$("<div id='cs-buttons-"+el.id+"' class='cs-buttons'></div>").appendTo($("#coin-slider-"+el.id));for(k=1;k<_3[el.id].length+1;k++){$("#cs-buttons-"+el.id).append("<a href='#' class='cs-button-"+el.id+"' id='cs-button-"+el.id+"-"+k+"'>"+k+"</a>");}$.each($(".cs-button-"+el.id),function(i,_10){$(_10).click(function(e){$(".cs-button-"+el.id).removeClass("cs-active");$(this).addClass("cs-active");e.preventDefault();$.transition(el,i);$.transitionCall(el);});});$("#cs-navigation-"+el.id+" a").mouseout(function(){$("#cs-navigation-"+el.id).hide();_1[el.id].pause=false;});slider_container_width=$("#coin-slider-"+el.id).width();slider_navigation_buttons_indent_width=parseInt($("#cs-buttons-"+el.id+" a").css("margin-left"));slider_navigation_buttons_width=$("#cs-buttons-"+el.id).width()-slider_navigation_buttons_indent_width;indent_result=(slider_container_width-slider_navigation_buttons_width)/2;$("#cs-buttons-"+el.id).css({"left":indent_result+"px","position":"absolute"});};$.effect=function(el){effA=["random","swirl","rain","straight"];if(_1[el.id].effect==""){eff=effA[Math.floor(Math.random()*(effA.length))];}else{eff=_1[el.id].effect;}_2[el.id]=new Array();if(eff=="random"){counter=0;for(i=1;i<=_1[el.id].sph;i++){for(j=1;j<=_1[el.id].spw;j++){_2[el.id][counter]=i+""+j;counter++;}}$.random(_2[el.id]);}if(eff=="rain"){$.rain(el);}if(eff=="swirl"){$.swirl(el);}if(eff=="straight"){$.straight(el);}_b[el.id]*=-1;if(_b[el.id]>0){_2[el.id].reverse();}};$.random=function(arr){var i=arr.length;if(i==0){return false;}while(--i){var j=Math.floor(Math.random()*(i+1));var _11=arr[i];var _12=arr[j];arr[i]=_12;arr[j]=_11;}};$.swirl=function(el){var n=_1[el.id].sph;var m=_1[el.id].spw;var x=1;var y=1;var _13=0;var num=0;var c=0;var _14=true;while(_14){num=(_13==0||_13==2)?m:n;for(i=1;i<=num;i++){_2[el.id][c]=x+""+y;c++;if(i!=num){switch(_13){case 0:y++;break;case 1:x++;break;case 2:y--;break;case 3:x--;break;}}}_13=(_13+1)%4;switch(_13){case 0:m--;y++;break;case 1:n--;x++;break;case 2:m--;y--;break;case 3:n--;x--;break;}check=$.max(n,m)-$.min(n,m);if(m<=check&&n<=check){_14=false;}}};$.rain=function(el){var n=_1[el.id].sph;var m=_1[el.id].spw;var c=0;var to=to2=from=1;var _15=true;while(_15){for(i=from;i<=to;i++){_2[el.id][c]=i+""+parseInt(to2-i+1);c++;}to2++;if(to<n&&to2<m&&n<m){to++;}if(to<n&&n>=m){to++;}if(to2>m){from++;}if(from>to){_15=false;}}};$.straight=function(el){counter=0;for(i=1;i<=_1[el.id].sph;i++){for(j=1;j<=_1[el.id].spw;j++){_2[el.id][counter]=i+""+j;counter++;}}};$.min=function(n,m){if(n>m){return m;}else{return n;}};$.max=function(n,m){if(n<m){return m;}else{return n;}};this.each(function(){init(this);});};$.fn.coinslider.defaults={width:565,height:290,spw:7,sph:5,delay:3000,sDelay:30,opacity:0.7,titleSpeed:500,effect:"",navigation:true,links:true,hoverPause:true};})(jQuery);